<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>A-frame3</title>
  <meta name="description" content="A-frame3">
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!-- <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script> -->
  <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
  <script>
    AFRAME.registerComponent('test', {
      init: function () {
        console.log(this);
        const element = this.el;
        element.addEventListener('sound-loaded', function () {
          console.log('sound-loaded');
          setTimeout(function () {
            element.components.sound.playSound();
          }, 1000);
        });
        element.addEventListener('mouseenter', function () {
          console.log('mouseenter');
          element.components.sound.pauseSound();
        });
        element.addEventListener('mouseleave', function () {
          console.log('mouseleave');
          element.components.sound.playSound();
        });
      }
    });
  </script>
</head>

<body>
  <a-scene>
    <a-assets>
      <img id="hasi" src="hasi.jpg" preload="auto"></img>
      <audio id="nami" src="nami1.mp3" preload="auto"></audio>
    </a-assets>
    <a-camera>
      <a-cursor fuse="true" fuse-timeout="1000"></a-cursor>
    </a-camera>

    <a-box id="box" rotation="0 -20 0" width="9" height="7" depth="0" position="-5 -1 2"
      material="opacity: 1; color:#ffffff" sound="src: #nami; autoplay: true; loop:true;" test>
    </a-box>

    <a-sky src="#hasi" rotation="0 0 0"></a-sky>
  </a-scene>
</body>

</html>
